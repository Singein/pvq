<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <script type="text/javascript" src="qwebchannel.js"></script>
    <script type="text/javascript">
        window.onload = function () {
            new QWebChannel(qt.webChannelTransport, function (channel) {
                window.agent = channel.objects.agent

                channel.objects.agent.send_data_pack.connect(function (str) {
                    document.getElementById("div").innerHTML = str
                });

                document.getElementById("button").onclick = function () {

                    agent.data_pack_received(JSON.stringify({
                        slot: 'say_hello',
                        data: 'from JavaScript Function ~'
                    }))
                };

            });
        }
    </script>

</head>

<body>
    <div id="div">PySide2 WebChannel Demo</div>
    <button id="button">sayHello</button>

</body>

</html>