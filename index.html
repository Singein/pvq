<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <script type="text/javascript" src="qwebchannel.js"></script>
    <script type="text/javascript">
        window.onload = function () {
            new QWebChannel(qt.webChannelTransport, function (channel) {
                // 获取qt中绑定的交互对象
                window.agent = channel.objects.agent

                // js 绑定qt中的信号
                channel.objects.agent.send_data_pack.connect(function (str) {
                    document.getElementById("div").innerHTML = str
                });
                // 按钮点击事件
                document.getElementById("button").onclick = function () {

                    // js调用qt中的方法
                    agent.data_pack_received(JSON.stringify({
                        slot: 'say_hello',
                        data: 'world!'
                    }))
                };

            });
        }
    </script>

</head>

<body>
    <div id="div">sdkjfgdksfgjk</div>
    <button id="button">sayHello</button>

</body>

</html>